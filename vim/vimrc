" Environment
scriptencoding utf-8
set background=dark
set encoding=utf-8
set fileencoding=utf-8
set hidden
set list
set listchars=tab:──,trail:·
set number
set shiftwidth=2
set showcmd
set showtabline=2
set splitbelow
set splitright
set tabstop=2

" Leader
map <silent> <space> <leader>

" Plugins
call plug#begin()

Plug 'editorconfig/editorconfig-vim'

Plug 'itchyny/lightline.vim'
Plug 'mengelbrecht/lightline-bufferline'
let g:lightline={
	\ 'active': {
	\   'left': [ [ 'mode', 'paste' ],
	\             [ 'filename' ] ],
	\   'right': [ [ 'lineinfo' ],
	\              [ 'filetype' ],
	\              [ 'gitbranch' ] ]
	\ },
	\ 'component_expand': {
	\   'buffers': 'lightline#bufferline#buffers'
	\ },
	\ 'component_function': {
	\   'gitbranch': 'fugitive#head'
	\ },
	\ 'component_type': {
	\   'buffers': 'tabsel'
	\ },
	\ 'tabline': {
	\   'left': [ [ 'buffers' ] ],
	\   'right': []
	\ },
	\ }

Plug 'junegunn/fzf'
Plug 'junegunn/fzf.vim'
let $FZF_DEFAULT_COMMAND='ag -g ""'
let $FZF_DEFAULT_OPTS="--exact"
command! -bang -nargs=* Ag call fzf#vim#ag(<q-args>, {'options': '--delimiter : --nth 4..'}, <bang>0)
nnoremap <silent> <leader>b :Buffers<cr>
nnoremap <silent> <leader>c :Commands<cr>
nnoremap <silent> <leader>h :History<cr>
nnoremap <silent> <leader>p :Files<cr>
nnoremap <silent> <leader>t :Ag<cr>

Plug 'mhinz/vim-sayonara'
nnoremap <silent> <leader>q :Sayonara<cr>
nnoremap <silent> <leader>x :Sayonara!<cr>

Plug 'mhinz/vim-signify'
Plug 'morhetz/gruvbox'
Plug 'mxw/vim-jsx'
Plug 'pangloss/vim-javascript'
Plug 'tomasr/molokai'

Plug 'tpope/vim-fugitive'
nnoremap <silent> <leader>d :Gvdiff<cr>

Plug 'tpope/vim-sensible'
Plug 'tpope/vim-vinegar'

Plug 'w0rp/ale'
let b:ale_linters=['eslint', 'shellcheck']

call plug#end()

" Buffers
nnoremap <silent> <leader>a :bprev<cr>
nnoremap <silent> <leader>s :bnext<cr>
nnoremap <silent> <leader>z :u<cr>
nnoremap <silent> S :w<cr>

" Colorscheme
if &t_Co >= 256
	colorscheme gruvbox
endif

" Mouse
if has('mouse')
  set mouse=a
end

" No shift
nnoremap ; :

" Windows
map <silent> <space><space> <c-w>
